<!DOCTYPE html>
<html>
    <!-- title -->





<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" >
    <title>springData-02 · LoveMorgana&#39;s Blog</title>
    <style type="text/css">
    @font-face {
        font-family: 'Oswald-Regular';
        src: url("/font/Oswald-Regular.ttf");
    }

    body {
        margin: 0;
    }

    header,
    footer,
    .back-top,
    .sidebar,
    .container,
    .site-intro-meta,
    .toc-wrapper {
        display: none;
    }

    .site-intro {
        position: relative;
        z-index: 3;
        width: 100%;
        /* height: 50vh; */
        overflow: hidden;
        box-shadow: 0 0 3px 0 rgba(0, 0, 0, 0.7);
    }

    .site-intro-placeholder {
        position: absolute;
        z-index: -2;
        top: 0;
        left: 0;
        width: calc(100% + 300px);
        height: 100%;
        background: repeating-linear-gradient(-45deg, #444 0, #444 80px, #333 80px, #333 160px);
        background-position: center center;
        transform: translate3d(-226px, 0, 0);
        animation: gradient-move 2.5s ease-out 0s 1;
    }

    @keyframes gradient-move {
        0% {
            transform: translate3d(-226px, 0, 0);
        }
        100% {
            transform: translate3d(0, 0, 0);
        }
    }

</style>

    <link rel="preload" href= /css/style.css?v=20180317 as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="stylesheet" type="text/css" href= /css/mobile.css?v=20180317 media="(max-width: 980px)"/>
    
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        
    <link rel="icon" href= /assets/favicon.ico>
    <script>
        (function (w) {
            "use strict";
            // rel=preload support test
            if (!w.loadCSS) {
                w.loadCSS = function () { };
            }
            // define on the loadCSS obj
            var rp = loadCSS.relpreload = {};
            // rel=preload feature support test
            // runs once and returns a function for compat purposes
            rp.support = (function () {
                var ret;
                try {
                    ret = w.document.createElement("link").relList.supports("preload");
                } catch (e) {
                    ret = false;
                }
                return function () {
                    return ret;
                };
            })();

            // if preload isn't supported, get an asynchronous load by using a non-matching media attribute
            // then change that media back to its intended value on load
            rp.bindMediaToggle = function (link) {
                // remember existing media attr for ultimate state, or default to 'all'
                var finalMedia = link.media || "all";

                function enableStylesheet() {
                    link.media = finalMedia;
                }

                // bind load handlers to enable media
                if (link.addEventListener) {
                    link.addEventListener("load", enableStylesheet);
                } else if (link.attachEvent) {
                    link.attachEvent("onload", enableStylesheet);
                }

                // Set rel and non-applicable media type to start an async request
                // note: timeout allows this to happen async to let rendering continue in IE
                setTimeout(function () {
                    link.rel = "stylesheet";
                    link.media = "only x";
                });
                // also enable media after 3 seconds,
                // which will catch very old browsers (android 2.x, old firefox) that don't support onload on link
                setTimeout(enableStylesheet, 3000);
            };

            // loop through link elements in DOM
            rp.poly = function () {
                // double check this to prevent external calls from running
                if (rp.support()) {
                    return;
                }
                var links = w.document.getElementsByTagName("link");
                for (var i = 0; i < links.length; i++) {
                    var link = links[i];
                    // qualify links to those with rel=preload and as=style attrs
                    if (link.rel === "preload" && link.getAttribute("as") === "style" && !link.getAttribute("data-loadcss")) {
                        // prevent rerunning on link
                        link.setAttribute("data-loadcss", true);
                        // bind listeners to toggle media back
                        rp.bindMediaToggle(link);
                    }
                }
            };

            // if unsupported, run the polyfill
            if (!rp.support()) {
                // run once at least
                rp.poly();

                // rerun poly on an interval until onload
                var run = w.setInterval(rp.poly, 500);
                if (w.addEventListener) {
                    w.addEventListener("load", function () {
                        rp.poly();
                        w.clearInterval(run);
                    });
                } else if (w.attachEvent) {
                    w.attachEvent("onload", function () {
                        rp.poly();
                        w.clearInterval(run);
                    });
                }
            }
            // commonjs
            if (typeof exports !== "undefined") {
                exports.loadCSS = loadCSS;
            }
            else {
                w.loadCSS = loadCSS;
            }
        }(typeof global !== "undefined" ? global : this));
    </script>
    <script src="//cdn.staticfile.org/jquery/3.2.1/jquery.min.js" defer></script>
    <script src="/scripts/main.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" defer></script>
    <!-- 百度统计  -->
    
    <!-- 谷歌统计  -->
    
    <script>
        (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
        ga('create', 'UA-113782861-1', 'auto');
        ga('send', 'pageview');
    </script>
    
</head>

    
        <body class="post-body">
    
    
<header class="header">

    <div class="read-progress"></div>
    <div class="header-sidebar-menu">&#xe775;</div>
    <!-- post页的toggle banner  -->
    
    <div class="banner">
            <div class="blog-title">
                <a href="/" >LoveMorgana&#39;s Blog</a>
            </div>
            <div class="post-title">
                <a href="#" class="post-name">springData-02</a>
            </div>
    </div>
    
    <a class="home-link" href=/>LoveMorgana's Blog</a>
</header>

    <div class="wrapper">
        <div class="site-intro" style=








height:50vh;

>
    
    <!-- 主页  -->
    
    
    <!-- 404页  -->
            
    <div class="site-intro-img" style="background-image: url(/intro/post-bg.jpg)"></div>
    <div class="site-intro-placeholder"></div>
    <div class="site-intro-meta">
        <!-- 标题  -->
        <h1 class="intro-title">
            <!-- 主页  -->
            
            springData-02
            <!-- 404 -->
            
        </h1>
        <!-- 副标题 -->
        <p class="intro-subtitle">
            <!-- 主页副标题  -->
            
            
            <!-- 404 -->
            
        </p>
        <!-- 文章页meta -->
        
            <!-- 文章页标签  -->
            
                <div class= post-intro-tags >
    
        <a class="post-tag" href="javascript:void(0);" data-tags = "springdata">springdata</a>
    
</div>
            
            <div class="post-intro-meta">
                <span class="post-intro-calander iconfont-archer">&#xe676;</span>
                <span class="post-intro-time">2017/12/01</span>
                
                <span id="busuanzi_container_page_pv" class="busuanzi-pv">
                    <span class="iconfont-archer">&#xe602;</span>
                    <span id="busuanzi_value_page_pv"></span>
                </span>
                
                <span class="shareWrapper">
                    <span class="iconfont-archer shareIcon">&#xe71d;</span>
                    <span class="shareText">Share</span>
                    <ul class="shareList">
                        <li class="iconfont-archer share-qr" data-type="qr">&#xe75b;
                            <div class="share-qrcode"></div>
                        </li>
                        <li class="iconfont-archer" data-type="weibo">&#xe619;</li>
                        <li class="iconfont-archer" data-type="qzone">&#xe62e;</li>
                        <li class="iconfont-archer" data-type="twitter">&#xe634;</li>
                        <li class="iconfont-archer" data-type="facebook">&#xe67a;</li>
                    </ul>
                </span>
            </div>
        
    </div>
</div>
        <script>
  // load webfont-loader async, and add callback function
  function async(u, c) {
    var d = document, t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
    s.parentNode.insertBefore(o, s);
  }
  
  // get user agent
  var browser = {
    versions: function () {
      var u = window.navigator.userAgent;
      return {
        userAgent: u,
        trident: u.indexOf('Trident') > -1, //IE内核
        presto: u.indexOf('Presto') > -1, //opera内核
        webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核
        gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //火狐内核
        mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端
        ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端
        android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或者uc浏览器
        iPhone: u.indexOf('iPhone') > -1 || u.indexOf('Mac') > -1, //是否为iPhone或者安卓QQ浏览器
        iPad: u.indexOf('iPad') > -1, //是否为iPad
        webApp: u.indexOf('Safari') == -1, //是否为web应用程序，没有头部与底部
        weixin: u.indexOf('MicroMessenger') == -1, //是否为微信浏览器
        uc: u.indexOf('UCBrowser') > -1 //是否为android下的UC浏览器
      };
    }()
  }
  console.log("userAgent:" + browser.versions.userAgent);

  // callback
  function fontLoaded() {
    console.log('font loaded');
    if (document.getElementsByClassName('site-intro-meta')) {
      document.getElementsByClassName('intro-title')[0].classList.add('intro-fade-in');
      document.getElementsByClassName('intro-subtitle')[0].classList.add('intro-fade-in');
      var postIntroTags = document.getElementsByClassName('post-intro-tags')[0],
        postIntroMeat = document.getElementsByClassName('post-intro-meta')[0];
      if (postIntroTags) {
        postIntroTags.classList.add('post-fade-in');
      }
      if (postIntroMeat) {
        postIntroMeat.classList.add('post-fade-in');
      }
    }
  }

  // UC不支持跨域，所以直接显示
  function asyncCb(){
    if (browser.versions.uc) {
      console.log("UCBrowser");
      fontLoaded();
    } else {
      WebFont.load({
        custom: {
          families: ['Oswald-Regular']
        },
        loading: function () {  //所有字体开始加载
          // console.log('loading');
        },
        active: function () {  //所有字体已渲染
          fontLoaded();
        },
        inactive: function () { //字体预加载失败，无效字体或浏览器不支持加载
          console.log('inactive: timeout');
          fontLoaded();
        },
        timeout: 5000 // Set the timeout to two seconds
      });
    }
  }

  async("https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.min.js", asyncCb)
</script>        
        <img class="loading" src="/assets/loading.svg" style="display: block; margin: 6rem auto 0 auto; width: 6rem; height: 6rem;" />
        <div class="container container-unloaded">
            <main class="main post-page">
    <article class="article-entry">
        <h2 id="maven依赖"><a href="#maven依赖" class="headerlink" title="maven依赖"></a>maven依赖</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--SpringData--&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;1.8.0.RELEASE&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;4.3.6.Final&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br></pre></td></tr></table></figure>
<h2 id="书写beans-xml"><a href="#书写beans-xml" class="headerlink" title="书写beans.xml"></a>书写beans.xml</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</span><br><span class="line">       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;</span><br><span class="line">       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;</span><br><span class="line">       xmlns:p=&quot;http://www.springframework.org/schema/p&quot;</span><br><span class="line">       xmlns:cache=&quot;http://www.springframework.org/schema/cache&quot;</span><br><span class="line">       xmlns:jpa=&quot;http://www.springframework.org/schema/data/jpa&quot;</span><br><span class="line"></span><br><span class="line">       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans</span><br><span class="line">          http://www.springframework.org/schema/beans/spring-beans-3.1.xsd</span><br><span class="line">          http://www.springframework.org/schema/context</span><br><span class="line">          http://www.springframework.org/schema/context/spring-context-3.1.xsd</span><br><span class="line">          http://www.springframework.org/schema/aop</span><br><span class="line">          http://www.springframework.org/schema/aop/spring-aop-3.1.xsd</span><br><span class="line">          http://www.springframework.org/schema/tx</span><br><span class="line">          http://www.springframework.org/schema/tx/spring-tx-3.1.xsd</span><br><span class="line">          http://www.springframework.org/schema/cache</span><br><span class="line">          http://www.springframework.org/schema/cache/spring-cache-3.1.xsd</span><br><span class="line">          http://www.springframework.org/schema/data/jpa</span><br><span class="line">          http://www.springframework.org/schema/data/jpa/spring-jpa.xsd&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--1.配置数据源--&gt;</span><br><span class="line">    &lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;</span><br><span class="line">        &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;</span><br><span class="line">        &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://192.168.25.131:3306/spring_data&quot;/&gt;</span><br><span class="line">        &lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt;</span><br><span class="line">        &lt;property name=&quot;password&quot; value=&quot;root&quot;/&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--2.配置EntityManagerFactory--&gt;</span><br><span class="line">    &lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;</span><br><span class="line">        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;</span><br><span class="line">        &lt;property name=&quot;jpaVendorAdapter&quot; value=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;/&gt;</span><br><span class="line">        &lt;!--配置扫描包--&gt;</span><br><span class="line">        &lt;property name=&quot;packagesToScan&quot;  value=&quot;com.springdata&quot;/&gt;</span><br><span class="line">        &lt;!--jpa的一些属性--&gt;</span><br><span class="line">        &lt;property name=&quot;jpaProperties&quot;&gt;</span><br><span class="line">            &lt;props&gt;</span><br><span class="line">                &lt;!--ejb语言的策略--&gt;</span><br><span class="line">                &lt;prop key=&quot;hibernate.ejb.naming_strategy&quot;&gt;org.hibernate.cfg.ImprovedNamingStrategy&lt;/prop&gt;</span><br><span class="line">                &lt;!--数据库的方言采用的是mysqlInnoDB存储引擎--&gt;</span><br><span class="line">                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5InnoDBDialect&lt;/prop&gt;</span><br><span class="line">                &lt;!--执行显示SQL--&gt;</span><br><span class="line">                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;</span><br><span class="line">                &lt;!--自动格式化SQL--&gt;</span><br><span class="line">                &lt;prop key=&quot;hibernate.format_sql&quot;&gt;true&lt;/prop&gt;</span><br><span class="line">                &lt;!--根据实体自动创建表--&gt;</span><br><span class="line">                &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/prop&gt;</span><br><span class="line">            &lt;/props&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure>
<h2 id="书写实体类"><a href="#书写实体类" class="headerlink" title="书写实体类"></a>书写实体类</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">需要三个注解:</span><br><span class="line"></span><br><span class="line">1.在类上使用@Entity,声明这个类是实体类</span><br><span class="line">2.在get方法上用@ID标识该属性为主键</span><br><span class="line">              @GeneratedValue产生策略是自增</span><br></pre></td></tr></table></figure>
<p>实体类:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">@Entity</span><br><span class="line">public class Employee &#123;</span><br><span class="line"></span><br><span class="line">    private Integer id;</span><br><span class="line">    private String name;</span><br><span class="line">    private Integer age;</span><br><span class="line"></span><br><span class="line">    @GeneratedValue</span><br><span class="line">    @Id</span><br><span class="line">    public Integer getId() &#123;</span><br><span class="line">        return id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setId(Integer id) &#123;</span><br><span class="line">        this.id = id;</span><br><span class="line">    &#125;</span><br><span class="line">    @Column(length = 20)</span><br><span class="line">    public String getName() &#123;</span><br><span class="line">        return name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setName(String name) &#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Integer getAge() &#123;</span><br><span class="line">        return age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setAge(Integer age) &#123;</span><br><span class="line">        this.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="自动建表的实现"><a href="#自动建表的实现" class="headerlink" title="自动建表的实现"></a>自动建表的实现</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">修改表中某一字段的长度</span><br><span class="line">drop table employee;</span><br><span class="line"></span><br><span class="line">在实体类上的那个修改的成员变量的get方法上加上@Column(length=20)就可以改变它的长度了.一般字符串类型的长度默认是255.</span><br></pre></td></tr></table></figure>
<p>测试类:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@Before</span><br><span class="line">   public void testBefore() &#123;</span><br><span class="line">       context = new ClassPathXmlApplicationContext(&quot;beans-new.xml&quot;);</span><br><span class="line">       System.out.println(&quot;先获得配置文件&quot;);</span><br><span class="line">   &#125;</span><br><span class="line">   @Test</span><br><span class="line">   public void testSpringDataJpa()&#123;</span><br><span class="line">       System.out.println(&quot;我要自动建表了-------------&quot;);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="beans-new-xml其他配置"><a href="#beans-new-xml其他配置" class="headerlink" title="beans-new.xml其他配置"></a>beans-new.xml其他配置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--3.配置事务管理器--&gt;</span><br><span class="line">    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;</span><br><span class="line">        &lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactory&quot;/&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--4.配置支持注解的事务--&gt;</span><br><span class="line">    &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--5.配置SpringData--&gt;</span><br><span class="line">    &lt;jpa:repositories base-package=&quot;com.springdata&quot; entity-manager-factory-ref=&quot;entityManagerFactory&quot;/&gt;</span><br><span class="line">    &lt;context:component-scan base-package=&quot;com.springdata&quot;/&gt;</span><br></pre></td></tr></table></figure>
<h2 id="测试上面的那些配置"><a href="#测试上面的那些配置" class="headerlink" title="测试上面的那些配置"></a>测试上面的那些配置</h2><p>实现类:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public interface EmployeeRepository extends Repository&lt;Employee, Integer&gt; &#123;</span><br><span class="line">    /**</span><br><span class="line">     * Respository里面的那两个参数就是:1.实体类 2.主键的ID(类型)</span><br><span class="line">     * @param name</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">     public Employee findByName(String name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>测试类:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">public class SpringDataTest &#123;</span><br><span class="line">    private ClassPathXmlApplicationContext context;</span><br><span class="line">    private EmployeeRepository employeeRepository;</span><br><span class="line">    </span><br><span class="line">    /**</span><br><span class="line">        先装载配置</span><br><span class="line">    */</span><br><span class="line">    @Before</span><br><span class="line">    public void Setup()&#123;</span><br><span class="line">        context = new ClassPathXmlApplicationContext(&quot;beans-new.xml&quot;);</span><br><span class="line">        employeeRepository = context.getBean(EmployeeRepository.class);</span><br><span class="line">        System.out.println(&quot;setup&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">     /**</span><br><span class="line">          执行测试</span><br><span class="line">      */</span><br><span class="line">    @Test</span><br><span class="line">    public void testFindbyName()&#123;</span><br><span class="line">        Employee employee = employeeRepository.findByName(&quot;xiaoming&quot;);</span><br><span class="line">        System.out.println(&quot;ID:&quot;+employee.getId()+&quot;姓名:&quot;+employee.getName()+&quot;年龄:&quot;+employee.getAge());</span><br><span class="line">    &#125;</span><br><span class="line">    /**</span><br><span class="line">        销毁</span><br><span class="line">     */</span><br><span class="line">    @After</span><br><span class="line">    public void tearDown()&#123;</span><br><span class="line">        context=null;</span><br><span class="line">        System.out.println(&quot;tearDown&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>分析:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Hibernate: </span><br><span class="line">    select</span><br><span class="line">        employee0_.id as id1_0_,</span><br><span class="line">        employee0_.age as age2_0_,</span><br><span class="line">        employee0_.name as name3_0_ </span><br><span class="line">    from</span><br><span class="line">        employee employee0_ </span><br><span class="line">    where</span><br><span class="line">        employee0_.name=?</span><br><span class="line">        </span><br><span class="line">上面是测试执行产生的SQL语句</span><br><span class="line">可以看出它查询的时候,查询了3个字段,并且给employee起来个别名employee0_ </span><br><span class="line">并且是根据name字段来查询的.</span><br><span class="line"></span><br><span class="line">因为我们的配置设置了执行产生的SQL语句了.</span><br><span class="line">即:</span><br><span class="line"> &lt;!--执行显示SQL--&gt;</span><br><span class="line">&lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;</span><br><span class="line">&lt;!--自动格式化SQL--&gt;</span><br><span class="line">&lt;prop key=&quot;hibernate.format_sql&quot;&gt;true&lt;/prop&gt;</span><br></pre></td></tr></table></figure>
<p>但是值得注意的是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">查询的时候的方法的名字,不能随心所欲的起了.</span><br><span class="line">比如你要把findByName()方法改成test()方法,他就执行不成功了.</span><br><span class="line">所以,代码必须按照要按照一定的规则来设置.</span><br></pre></td></tr></table></figure>
<h2 id="关于Repository核心接口的认识"><a href="#关于Repository核心接口的认识" class="headerlink" title="关于Repository核心接口的认识"></a>关于Repository核心接口的认识</h2><p>CrudRepository:就是执行save/insert/delete操作.</p>
<p>PagingAndSortingRepository:分页和排序:每页的显示和按照关键字的排序</p>
<p>jpaRepository:jpa的一些东西</p>
<p>jpaSpecificationExecutor:一些其他的东西</p>
<p>Repository接口源码:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">package org.springframework.data.repository;</span><br><span class="line"></span><br><span class="line">import java.io.Serializable;</span><br><span class="line"></span><br><span class="line">public interface Repository&lt;T, ID extends Serializable&gt; &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="标记接口"><a href="#标记接口" class="headerlink" title="标记接口"></a>标记接口</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">可以看出里面就一个空接口,没提供任何方法.那Repository就是一个标记接口</span><br><span class="line">T就是你的目标实体类,</span><br><span class="line">ID就是那个实体类当中的ID(主键)的类型</span><br></pre></td></tr></table></figure>
<p>类似的,我们可以看一下Serializable接口的形式:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line">public interface Serializable &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">他没有任何方法,</span><br><span class="line">同样的Serializable也是一个标记接口.</span><br><span class="line">````   </span><br><span class="line">            </span><br><span class="line">#### 自定义接口使用的过程</span><br><span class="line"></span><br><span class="line">```androiddatabinding</span><br><span class="line"> 之前使用的那个接口.</span><br><span class="line"> public interface EmployeeRepository extends Repository&lt;Employee, Integer&gt;&#123;</span><br><span class="line">        employeeRepository.findByName(String name);</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">他在测试类中的使用:</span><br><span class="line"></span><br><span class="line">```androiddatabinding</span><br><span class="line">context = new ClassPathXmlApplicationContext(&quot;beans-new.xml&quot;);</span><br><span class="line">EmployeeRepository employeeRepository = context.getBean(EmployeeRepository.class);</span><br><span class="line">Employee employee = employeeRepository.findByName(&quot;xiaoming&quot;);</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">我们可以打印出来看一下这个employeeRepository</span><br><span class="line"></span><br><span class="line">```androiddatabinding</span><br><span class="line">org.springframework.data.jpa.repository.support.SimpleJpaRepository@2bfaba70</span><br><span class="line">显示这个就说明你定义的那个接口EmployeeRepository已经被Spring容器所管理,可以被使用了.</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">#### 如果自定义接口没有继承官方提供的Repository&lt;T,ID&gt;接口,会出现错误</span><br><span class="line"></span><br><span class="line">```androiddatabinding</span><br><span class="line">就是下面这个错误</span><br><span class="line">org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &apos;com.springdata.repository.EmployeeRepository&apos; available</span><br><span class="line"></span><br><span class="line">此类型的Bean无效,说明自定义的接口没有被Spring容器管理.</span><br><span class="line"></span><br><span class="line">此时我们可以使用@RepositoryDefinition(domainClass,idclass)</span><br><span class="line"></span><br><span class="line">注解的源码如下:</span><br><span class="line">@Documented</span><br><span class="line">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="line">@Target(&#123;ElementType.TYPE&#125;)</span><br><span class="line">@Inherited</span><br><span class="line">public @interface RepositoryDefinition &#123;</span><br><span class="line">    Class&lt;?&gt; domainClass();</span><br><span class="line"></span><br><span class="line">    Class&lt;? extends Serializable&gt; idClass();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">所以我们可以下列的设置:</span><br><span class="line"></span><br><span class="line">```</span><br><span class="line">@RepositoryDefinition(domainClass = Employee.class,idClass = Integer.class)</span><br><span class="line">public interface EmployeeRepository &#123;</span><br><span class="line">    /**</span><br><span class="line">     * extends Repository&lt;Employee, Integer&gt;</span><br><span class="line">     * Respository里面的那两个参数就是:1.实体类 2.主键的ID(类型)</span><br><span class="line">     * @param name</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">     public Employee findByName(String name);</span><br><span class="line">&#125;</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">### Repository的子接口</span><br><span class="line"></span><br><span class="line">CrudRepository:继承Repository,实现了CRUD的相关方法</span><br><span class="line"></span><br><span class="line">![](http://upload-images.jianshu.io/upload_images/7505161-0b283ab8f5c168b0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</span><br><span class="line"></span><br><span class="line">![](http://upload-images.jianshu.io/upload_images/7505161-c1f6c80553a1313c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</span><br><span class="line"></span><br><span class="line">jpaRepository:继承了PagingAndsortingRepository,实现了JPA规范的相关方法.</span><br><span class="line"></span><br><span class="line">![](http://upload-images.jianshu.io/upload_images/7505161-87bdc782bde6550d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</span><br><span class="line"></span><br><span class="line">PagingAndSortingRepository:继承CrudRepository,实现了分页排序的相关的方法.</span><br><span class="line"></span><br><span class="line">![](http://upload-images.jianshu.io/upload_images/7505161-820c87ab0c846938.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</span><br><span class="line"></span><br><span class="line">分为两个方法:1.可以根据具体的字段来排序2.第二个是分页的类</span><br><span class="line"></span><br><span class="line">![](http://upload-images.jianshu.io/upload_images/7505161-1149625b935d0742.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</span><br><span class="line"></span><br><span class="line">### Repository中查询方法定义规则和使用</span><br><span class="line"></span><br><span class="line"> 1. 了解SpringData中查询方法名称的定义规则</span><br><span class="line"> </span><br><span class="line"> 2. 使用SpringData完成复杂查询方法的命名</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">![](http://upload-images.jianshu.io/upload_images/7505161-12d94ed91d010f92.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</span><br><span class="line"></span><br><span class="line">![](http://upload-images.jianshu.io/upload_images/7505161-87f22b1868632f24.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</span><br><span class="line"></span><br><span class="line">分析:</span><br><span class="line"></span><br><span class="line">```</span><br><span class="line">关键字         具体方法        翻译成的SQL语句</span><br><span class="line">如果不按上弄规则来写,会出现异常.</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">下面插入数据,进行测试</span><br></pre></td></tr></table></figure>
<p>insert into employee(name,age) values(“test1”,20)<br>insert into employee(name,age) ]values(“test2”,21)<br>insert into employee(name,age) values(“test3”,22)<br>insert into employee(name,age) values(“test4”,23)<br>insert into employee(name,age) values(“test5”,20)<br>insert into employee(name,age) values(“test6”,21)<br>insert into employee(name,age) values(“test7”,22)<br>insert into employee(name,age) values(“test8”,23)<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**按照特定命名的方法规则来进行查询**</span><br><span class="line"></span><br><span class="line">EmployeeRepository接口</span><br><span class="line"></span><br><span class="line">````androiddatabinding</span><br><span class="line">@RepositoryDefinition(domainClass = Employee.<span class="built_in">class</span>,idClass = Integer.<span class="built_in">class</span>)</span><br><span class="line">public interface EmployeeRepository &#123;</span><br><span class="line">    /**</span><br><span class="line">     * extends Repository&lt;Employee, Integer&gt;</span><br><span class="line">     * Respository里面的那两个参数就是:<span class="number">1.</span>实体类 <span class="number">2.</span>主键的ID(类型)</span><br><span class="line">     * @param <span class="built_in">name</span></span><br><span class="line">     * @<span class="literal">return</span></span><br><span class="line">     */</span><br><span class="line">     public Employee findByName(String <span class="built_in">name</span>);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * <span class="keyword">where</span> <span class="built_in">name</span> like ?% <span class="keyword">and</span> age &lt;?</span><br><span class="line">     * <span class="built_in">name</span>以XXx开始 &amp;&amp; age&lt;xxx</span><br><span class="line">     * @param <span class="built_in">name</span></span><br><span class="line">     * @param age</span><br><span class="line">     * @<span class="literal">return</span> 符合条件的employee列表</span><br><span class="line">     */</span><br><span class="line">    public List&lt;Employee&gt; findByNameStartingWithAndAgeLessThan(String <span class="built_in">name</span>, Integer age);</span><br><span class="line">    /**</span><br><span class="line">     * <span class="keyword">where</span> <span class="built_in">name</span> like %? <span class="keyword">and</span> age &lt;?</span><br><span class="line">     * <span class="built_in">name</span>以XXX结束&amp;&amp; age&lt;xxx</span><br><span class="line">     * @param <span class="built_in">name</span></span><br><span class="line">     * @param age</span><br><span class="line">     * @<span class="literal">return</span></span><br><span class="line">     */</span><br><span class="line">    public List&lt;Employee&gt; findByNameEndingWithAndAgeLessThan(String <span class="built_in">name</span>, Integer age);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * <span class="keyword">where</span> <span class="built_in">name</span> <span class="keyword">in</span>(?,?......)<span class="keyword">or</span> age &lt; ?</span><br><span class="line">     * <span class="built_in">name</span>在某个集合范围之内,或者age&lt;xxx</span><br><span class="line">     * @param <span class="built_in">name</span></span><br><span class="line">     * @param age</span><br><span class="line">     * @<span class="literal">return</span></span><br><span class="line">     */</span><br><span class="line">    public List&lt;Employee&gt; findByNameInOrAgeLessThan(List&lt;String&gt; <span class="built_in">name</span>,Integer age);</span><br><span class="line">    /**</span><br><span class="line">     * <span class="keyword">where</span> <span class="built_in">name</span> <span class="keyword">in</span>(?,?......)<span class="keyword">and</span> age &lt; ?</span><br><span class="line">     * <span class="built_in">name</span>在某个集合范围之内,并且age&lt;xxx</span><br><span class="line">     * @param <span class="built_in">name</span></span><br><span class="line">     * @param age</span><br><span class="line">     * @<span class="literal">return</span></span><br><span class="line">     */</span><br><span class="line">    public List&lt;Employee&gt; findByNameInAndAgeLessThan(List&lt;String&gt; <span class="built_in">name</span>,Integer age);</span><br></pre></td></tr></table></figure></p>
<p>测试类</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line">  public void test1()&#123;</span><br><span class="line">     /* System.out.println(employeeRepository);</span><br><span class="line">      employee = employeeRepository.findByName(&quot;xiaoming&quot;);*/</span><br><span class="line">      /*List&lt;Employee&gt; list = employeeRepository.findByNameEndingWithAndAgeLessThan(&quot;ong&quot;, 30);*/</span><br><span class="line"></span><br><span class="line">      List&lt;String&gt; list = new ArrayList&lt;String&gt;();</span><br><span class="line">      list.add(&quot;test1&quot;);</span><br><span class="line">      list.add(&quot;test2&quot;);</span><br><span class="line">      list.add(&quot;test3&quot;);</span><br><span class="line">      list.add(&quot;test4&quot;);</span><br><span class="line">      List&lt;Employee&gt; employees = employeeRepository.findByNameInOrAgeLessThan(list, 22);</span><br><span class="line">      for (Employee employee : employees) &#123;</span><br><span class="line">          System.out.println(&quot;ID是&quot;+employee.getId()+&quot; 姓名是:&quot;+employee.getName()+&quot; 年龄是&quot;+employee.getAge());</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  @Test</span><br><span class="line">  public void test2()&#123;</span><br><span class="line">      List&lt;String&gt; list = new ArrayList&lt;String&gt;();</span><br><span class="line">      list.add(&quot;test1&quot;);</span><br><span class="line">      list.add(&quot;test2&quot;);</span><br><span class="line">      list.add(&quot;test3&quot;);</span><br><span class="line">      list.add(&quot;test4&quot;);</span><br><span class="line">      List&lt;Employee&gt; employees = employeeRepository.findByNameInAndAgeLessThan(list, 22);</span><br><span class="line">      for (Employee employee : employees) &#123;</span><br><span class="line">          System.out.println(&quot;ID是&quot;+employee.getId()+&quot; 姓名是:&quot;+employee.getName()+&quot; 年龄是&quot;+employee.getAge());</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h3 id="Query注解的使用"><a href="#Query注解的使用" class="headerlink" title="Query注解的使用"></a>Query注解的使用</h3><p>1.在Repository方法中使用,不需要遵循查询方法命名规则.</p>
<ol>
<li><p>需要将@Query定义在Repository中的方法之上即可.</p>
</li>
<li><p>命名参数及索引参数的使用.</p>
</li>
<li><p>本地查询</p>
</li>
</ol>
<p>实现Code:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">    * select t1 from Employee t1</span><br><span class="line">    * 里面的Employee是类名</span><br><span class="line">    * @return</span><br><span class="line">    */</span><br><span class="line">   @Query(&quot;select o from Employee o where id=(select max(id) from Employee t)&quot;)</span><br><span class="line">   public Employee getEmployeeByMaxId();</span><br><span class="line"></span><br><span class="line">   /**</span><br><span class="line">    * ?是占位符</span><br><span class="line">    * @param name</span><br><span class="line">    * @param age</span><br><span class="line">    * @return</span><br><span class="line">    */</span><br><span class="line">   @Query(&quot;select o from Employee o where o.name=?1 and o.age=?2&quot;)</span><br><span class="line">   public List&lt;Employee&gt; queryParams(String name,Integer age);</span><br><span class="line"></span><br><span class="line">   /**</span><br><span class="line">    *  :name</span><br><span class="line">    *  与@Param(&quot;name&quot;)</span><br><span class="line">    *  :后面的内容要和@Param()里面的内容一致.</span><br><span class="line">    * @param name</span><br><span class="line">    * @param age</span><br><span class="line">    * @return</span><br><span class="line">    */</span><br><span class="line">   @Query(&quot;select o from Employee o where o.name=:name and o.age=:age&quot;)</span><br><span class="line">   public List&lt;Employee&gt; queryParams2(@Param(&quot;name&quot;) String name,@Param(&quot;age&quot;) Integer age);</span><br><span class="line"></span><br><span class="line">   /**</span><br><span class="line">    * 模糊查询:除了关键字不一致,其他都一样</span><br><span class="line">    * @param name</span><br><span class="line">    * @return</span><br><span class="line">    */</span><br><span class="line">   @Query(&quot;select o from  Employee o where o.name like %?1%&quot;)</span><br><span class="line">   public List&lt;Employee&gt; queryByLike(String name);</span><br><span class="line"></span><br><span class="line">   /**</span><br><span class="line">    * 用 :name 取代 ?1,但是需要在参数前面加上@Param(&quot;name&quot;)</span><br><span class="line">    * @param name</span><br><span class="line">    * @return</span><br><span class="line">    */</span><br><span class="line">   @Query(&quot;select o from Employee o where o.name like %:name%&quot;)</span><br><span class="line">   public List&lt;Employee&gt; queryByLike2(@Param(&quot;name&quot;) String name);</span><br><span class="line"></span><br><span class="line">   /**</span><br><span class="line">    * 本地查询的实现</span><br><span class="line">    * @return</span><br><span class="line">    */</span><br><span class="line">   @Query(nativeQuery = false,value = &quot;select count(1) from Employee&quot;)</span><br><span class="line">   public Long getCount();</span><br></pre></td></tr></table></figure>
<p>测试Code:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line">   public void test3()&#123;</span><br><span class="line">       Employee employee = employeeRepository.getEmployeeByMAxId();</span><br><span class="line">           System.out.println(&quot;ID是&quot;+employee.getId()+&quot; 姓名是:&quot;+employee.getName()+&quot; 年龄是&quot;+employee.getAge());</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   @Test</span><br><span class="line">   public void test4()&#123;</span><br><span class="line">       List&lt;Employee&gt; list = employeeRepository.queryParams(&quot;xiaoming&quot;, 10);</span><br><span class="line">       for (Employee employee : list) &#123;</span><br><span class="line">           System.out.println(&quot;ID是&quot;+employee.getId()+&quot; 姓名是:&quot;+employee.getName()+&quot; 年龄是&quot;+employee.getAge());</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   @Test</span><br><span class="line">   public void test5()&#123;</span><br><span class="line">       List&lt;Employee&gt; list = employeeRepository.queryParams2(&quot;xiaoming&quot;, 10);</span><br><span class="line">       for (Employee employee : list) &#123;</span><br><span class="line">           System.out.println(&quot;ID是&quot;+employee.getId()+&quot; 姓名是:&quot;+employee.getName()+&quot; 年龄是&quot;+employee.getAge());</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   @Test</span><br><span class="line">   public void test6()&#123;</span><br><span class="line">       List&lt;Employee&gt; list = employeeRepository.queryByLike2(&quot;test&quot;);</span><br><span class="line">       for (Employee employee : list) &#123;</span><br><span class="line">           System.out.println(&quot;ID是&quot;+employee.getId()+&quot; 姓名是:&quot;+employee.getName()+&quot; 年龄是&quot;+employee.getAge());</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   /**</span><br><span class="line">    * 本地查询的测试</span><br><span class="line">    */</span><br><span class="line">   @Test </span><br><span class="line">   public void test7()&#123;</span><br><span class="line">       Long count = employeeRepository.getCount();</span><br><span class="line">       System.out.println(count);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h4 id="更新及删除操作整合事务的使用"><a href="#更新及删除操作整合事务的使用" class="headerlink" title="更新及删除操作整合事务的使用"></a>更新及删除操作整合事务的使用</h4><p>@Modifying注解使用:加上表示允许修改值<br>@Modifying结合@Query注解执行更新操作.<br>@Transaction在事务中的使用</p>
<p>但是事务一般是在Service层中发生的.一个Service里面可能有多个Dao的调用,必须保证多个dao在同一个事务里面,<br>比如说银行存钱,取钱的操作.事务一定要保证准确.</p>
<p>更新操作&amp;&amp;删除操作:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">    * 再次注意Employee是类名,不是表名.</span><br><span class="line">    * @param name</span><br><span class="line">    * @param id</span><br><span class="line">    */</span><br><span class="line">   @Modifying</span><br><span class="line">   @Query(&quot;update Employee o set o.name = :name where o.id =:id&quot;)</span><br><span class="line">   public void updateNameById(@Param(&quot;name&quot;) String name,@Param(&quot;id&quot;) Integer id);</span><br><span class="line"></span><br><span class="line">   /**</span><br><span class="line">    * 删除操作</span><br><span class="line">    * @param id</span><br><span class="line">    */</span><br><span class="line">   @Modifying</span><br><span class="line">   @Query(&quot;delete from Employee o where id = :id&quot;)</span><br><span class="line">   public void deleteById(@Param(&quot;id&quot;)Integer id);</span><br></pre></td></tr></table></figure></p>
<p>由于事务(@Transactional)是在Service层完成的,所以我们需要书写一个EmployeeService类:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">@Service</span><br><span class="line">public class EmployeeService &#123;</span><br><span class="line"> @Autowired</span><br><span class="line"> private EmployeeRepository employeeRepository;</span><br><span class="line"></span><br><span class="line"> @Transactional(rollbackOn = Exception.class)</span><br><span class="line"> public void update(String name,Integer id)&#123;</span><br><span class="line">     employeeRepository.updateNameById(name,id);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> @Transactional(rollbackOn = Exception.class)</span><br><span class="line"> public void delete(Integer id)&#123;</span><br><span class="line">  employeeRepository.deleteById(id);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>测试方法:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line">   public void test() &#123;</span><br><span class="line">       employeeService.update(&quot;wangxiaoer&quot;, 1);</span><br><span class="line">   &#125;</span><br><span class="line">   @Test</span><br><span class="line">   public void test2() &#123;</span><br><span class="line">       employeeService.delete(6);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

    </article>
    <!-- 前后页  -->
    <ul class="post-paginator">
        <li class="next">
            
                <div class="nextSlogan">Next Post</div>
                <a href= "/2017/12/01/SpringData-03/" title= springData-03 >
                    <div class="nextTitle">springData-03</div>
                </a>
            
        </li>
        <li class="previous">
            
                <div class="prevSlogan">Previous Post</div>
                <a href= "/2017/11/09/Spring事务/" title= Spring事务 >
                    <div class="prevTitle">Spring事务</div>
                </a>
            
        </li>
    </ul>
    <!-- 评论插件 -->
    <!-- 来必力City版安装代码 -->

    <div id="lv-container" data-id="city" data-uid= MTAyMC8zNDE4Ni8xMDcyMw==>
        <script type="text/javascript">
            (function (d, s) {
                var j, e = d.getElementsByTagName(s)[0];
                if (typeof LivereTower === 'function') { return; }
                j = d.createElement(s);
                j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
                j.async = true;

                e.parentNode.insertBefore(j, e);
            })(document, 'script');
        </script>
        <noscript>为正常使用来必力评论功能请激活JavaScript</noscript>
    </div>

<!-- City版安装代码已完成 -->
    
    
    <!--PC版-->

    <!--PC版-->


    
    <!-- 评论 -->
</main>
            <!-- profile -->
            
        </div>
        <footer class="footer footer-unloaded">
    <!-- social  -->
    
    <div class="social">
        
    
        
            
                <a href="mailto:15733207536@163.com" class="iconfont-archer email" title=email ></a>
            
        
    
        
            
                <a href="//github.com/lovemoganna" class="iconfont-archer github" target="_blank" title=github></a>
            
        
    
        
            
                <span class="iconfont-archer wechat" title=wechat>
                  
                  <img class="profile-qr" src="/assets/wechat.jpg" />
                </span>
            
        
    
        
    
        
    
        
    
        
    
        
    
        
            
                <a href="/luoyupiaoshang" class="iconfont-archer twitter" target="_blank" title=twitter></a>
            
        
    
        
    
        
    
        
    
        
    
        
    
        
            
                <a href="/atom.xml" class="iconfont-archer rss" target="_blank" title=rss></a>
            
        
    

    </div>
    
    <!-- powered by Hexo  -->
    <div class="copyright">
        <span id="hexo-power">Powered by <a href="https://luoyupiaoshang.club/" target="_blank">luoyupiaoshang</a></span><span class="iconfont-archer power">&#xe635;</span><span id="theme-info">theme <a href="https://github.com/fi3ework/hexo-theme-archer" target="_blank">Archer</a></span>
    </div>
    <!-- 不蒜子  -->
    
    <div class="busuanzi-container">
        <span id="busuanzi_container_site_pv">访问总计 <span id="busuanzi_value_site_pv"></span>
        </span>
    </div>
    
</footer>

    </div>
    <!-- toc -->
    
    <div class="toc-wrapper" style=
    







top:50vh;

    >
        <div class="toc-catalog">
            <span class="iconfont-archer catalog-icon">&#xe613;</span><span>CATALOG</span>
        </div>
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#maven依赖"><span class="toc-number">1.</span> <span class="toc-text">maven依赖</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#书写beans-xml"><span class="toc-number">2.</span> <span class="toc-text">书写beans.xml</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#书写实体类"><span class="toc-number">3.</span> <span class="toc-text">书写实体类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#自动建表的实现"><span class="toc-number">4.</span> <span class="toc-text">自动建表的实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#beans-new-xml其他配置"><span class="toc-number">5.</span> <span class="toc-text">beans-new.xml其他配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#测试上面的那些配置"><span class="toc-number">6.</span> <span class="toc-text">测试上面的那些配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关于Repository核心接口的认识"><span class="toc-number">7.</span> <span class="toc-text">关于Repository核心接口的认识</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#标记接口"><span class="toc-number">7.0.1.</span> <span class="toc-text">标记接口</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Query注解的使用"><span class="toc-number">7.1.</span> <span class="toc-text">Query注解的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#更新及删除操作整合事务的使用"><span class="toc-number">7.1.1.</span> <span class="toc-text">更新及删除操作整合事务的使用</span></a></li></ol></li></ol></li></ol>
    </div>
    
    <div class="back-top iconfont-archer">&#xe639;</div>
    <div class="sidebar sidebar-hide">
    <ul class="sidebar-tabs sidebar-tabs-active-0">
        <li class="sidebar-tab-archives"><span class="iconfont-archer">&#xe67d;</span><span class="tab-name">归档</span></li>
        <li class="sidebar-tab-tags"><span class="iconfont-archer">&#xe61b;</span><span class="tab-name">标签</span></li>
        <li class="sidebar-tab-categories"><span class="iconfont-archer">&#xe666;</span><span class="tab-name">分类</span></li>
    </ul>
    <div class="sidebar-content sidebar-content-show-archive">
          <div class="sidebar-panel-archives">
    <!-- 在ejs中将archive按照时间排序 -->
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <div class="total-archive"> Total : 25 </div>
    
    <div class="post-archive">
    
    
    
    
    <div class="archive-year"> 2018 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/30</span><a class="archive-post-title" href= "/2018/04/30/vimeo视频赏析/" >vimeo动画赏析</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/28</span><a class="archive-post-title" href= "/2018/02/28/mysql设计以及架构优化/" >mysql设计以及架构优化</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/25</span><a class="archive-post-title" href= "/2018/02/25/Redis集群的搭建/" >Redis-cluster搭建</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/24</span><a class="archive-post-title" href= "/2018/02/24/spring和redis整合/" >Spring与Redis整合</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/24</span><a class="archive-post-title" href= "/2018/02/24/redis/" >Redis基本操作</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/24</span><a class="archive-post-title" href= "/2018/02/24/Redis集群接口/" >Redis接口的编写</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/22</span><a class="archive-post-title" href= "/2018/02/22/DB02-数据库字段设计规范/" >DB02-数据库字段设计规范</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">02/01</span><a class="archive-post-title" href= "/2018/02/01/mysql日志划分/" >mysql服务器日志</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/27</span><a class="archive-post-title" href= "/2018/01/27/选择常规查询和慢速查询日志的输出目的地/" >选择常规查询和慢速查询日志的输出目的地</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/25</span><a class="archive-post-title" href= "/2018/01/25/集群环境中解决Session共享问题/" >集群环境中解决Session共享问题</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/24</span><a class="archive-post-title" href= "/2018/01/24/ajax跨域问题/" >ajax跨域问题</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/09</span><a class="archive-post-title" href= "/2018/01/09/WebCrawler/" >WebCrawler-网络爬虫01</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/08</span><a class="archive-post-title" href= "/2018/01/08/区块链/" >区块链(Blockchain)</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/02</span><a class="archive-post-title" href= "/2018/01/02/秒杀service层开发/" >秒杀Service层开发</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/02</span><a class="archive-post-title" href= "/2018/01/02/秒杀Web层开发/" >秒杀web层开发</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/02</span><a class="archive-post-title" href= "/2018/01/02/秒杀高并发优化/" >秒杀高并发优化</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/01</span><a class="archive-post-title" href= "/2018/01/01/Markdown/" >markdown语法</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/01</span><a class="archive-post-title" href= "/2018/01/01/数据库的基本操作/" >数据库的基本操作</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/01</span><a class="archive-post-title" href= "/2018/01/01/秒杀概述/" >秒杀概述</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/01</span><a class="archive-post-title" href= "/2018/01/01/秒杀Dao层开发/" >秒杀Dao层开发</a>
        </li>
    
    
    
    
    
        </ul>
    
    <div class="archive-year"> 2017 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/01</span><a class="archive-post-title" href= "/2017/12/01/SpringData-02/" >springData-02</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/01</span><a class="archive-post-title" href= "/2017/12/01/SpringData-03/" >springData-03</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/01</span><a class="archive-post-title" href= "/2017/12/01/apringData-01/" >springData-01</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/09</span><a class="archive-post-title" href= "/2017/11/09/springboot/" >SpringBoot初识</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/09</span><a class="archive-post-title" href= "/2017/11/09/Spring事务/" >Spring事务</a>
        </li>
    
    </div>
  </div>
        <div class="sidebar-panel-tags">
    <div class="sidebar-tags-name">
    
        <span class="sidebar-tag-name" data-tags="markdown"><span class="iconfont-archer">&#xe606;</span>markdown</span>
    
        <span class="sidebar-tag-name" data-tags="mysql设计"><span class="iconfont-archer">&#xe606;</span>mysql设计</span>
    
        <span class="sidebar-tag-name" data-tags="Redis"><span class="iconfont-archer">&#xe606;</span>Redis</span>
    
        <span class="sidebar-tag-name" data-tags="Redis-cluster"><span class="iconfont-archer">&#xe606;</span>Redis-cluster</span>
    
        <span class="sidebar-tag-name" data-tags="springdata"><span class="iconfont-archer">&#xe606;</span>springdata</span>
    
        <span class="sidebar-tag-name" data-tags="Spring"><span class="iconfont-archer">&#xe606;</span>Spring</span>
    
        <span class="sidebar-tag-name" data-tags="Transaction"><span class="iconfont-archer">&#xe606;</span>Transaction</span>
    
        <span class="sidebar-tag-name" data-tags="Session共享"><span class="iconfont-archer">&#xe606;</span>Session共享</span>
    
        <span class="sidebar-tag-name" data-tags="爬虫的原理"><span class="iconfont-archer">&#xe606;</span>爬虫的原理</span>
    
        <span class="sidebar-tag-name" data-tags="爬虫架构"><span class="iconfont-archer">&#xe606;</span>爬虫架构</span>
    
        <span class="sidebar-tag-name" data-tags="Mysql"><span class="iconfont-archer">&#xe606;</span>Mysql</span>
    
        <span class="sidebar-tag-name" data-tags="ServiceLog"><span class="iconfont-archer">&#xe606;</span>ServiceLog</span>
    
        <span class="sidebar-tag-name" data-tags="架构优化"><span class="iconfont-archer">&#xe606;</span>架构优化</span>
    
        <span class="sidebar-tag-name" data-tags="vimeo"><span class="iconfont-archer">&#xe606;</span>vimeo</span>
    
        <span class="sidebar-tag-name" data-tags="FT中文网"><span class="iconfont-archer">&#xe606;</span>FT中文网</span>
    
        <span class="sidebar-tag-name" data-tags="区块链"><span class="iconfont-archer">&#xe606;</span>区块链</span>
    
        <span class="sidebar-tag-name" data-tags="SSM"><span class="iconfont-archer">&#xe606;</span>SSM</span>
    
        <span class="sidebar-tag-name" data-tags="Web"><span class="iconfont-archer">&#xe606;</span>Web</span>
    
        <span class="sidebar-tag-name" data-tags="Bootstrap"><span class="iconfont-archer">&#xe606;</span>Bootstrap</span>
    
        <span class="sidebar-tag-name" data-tags="Service"><span class="iconfont-archer">&#xe606;</span>Service</span>
    
        <span class="sidebar-tag-name" data-tags="RowsLock"><span class="iconfont-archer">&#xe606;</span>RowsLock</span>
    
        <span class="sidebar-tag-name" data-tags="高并发"><span class="iconfont-archer">&#xe606;</span>高并发</span>
    
        <span class="sidebar-tag-name" data-tags="增删改查"><span class="iconfont-archer">&#xe606;</span>增删改查</span>
    
        <span class="sidebar-tag-name" data-tags="SpringBoot"><span class="iconfont-archer">&#xe606;</span>SpringBoot</span>
    
    </div>
    <div class="iconfont-archer sidebar-tags-empty">&#xe678;</div>
    <div class="tag-load-fail" style="display: none; color: #ccc; font-size: 0.6rem;">
    缺失模块。<br/>
    1、请确保node版本大于6.2<br/>
    2、在博客根目录（注意不是archer根目录）执行以下命令：<br/>
    <span style="color: #f75357; font-size: 1rem; line-height: 2rem;">npm i hexo-generator-json-content --save</span><br/>
    3、在根目录_config.yml里添加配置：
    <pre style="color: #787878; font-size: 0.6rem;">
jsonContent:
  meta: false
  pages: false
  posts:
    title: true
    date: true
    path: true
    text: false
    raw: false
    content: false
    slug: false
    updated: false
    comments: false
    link: false
    permalink: false
    excerpt: false
    categories: true
    tags: true</pre>
    </div> 
    <div class="sidebar-tags-list"></div>
</div>
        <div class="sidebar-panel-categories">
    <div class="sidebar-categories-name">
    
        <span class="sidebar-category-name" data-categories="Seckill"><span class="iconfont-archer">&#xe60a;</span>Seckill</span>
    
        <span class="sidebar-category-name" data-categories="mysql"><span class="iconfont-archer">&#xe60a;</span>mysql</span>
    
        <span class="sidebar-category-name" data-categories="Redis"><span class="iconfont-archer">&#xe60a;</span>Redis</span>
    
        <span class="sidebar-category-name" data-categories="spring"><span class="iconfont-archer">&#xe60a;</span>spring</span>
    
        <span class="sidebar-category-name" data-categories="SpringBoot"><span class="iconfont-archer">&#xe60a;</span>SpringBoot</span>
    
        <span class="sidebar-category-name" data-categories="blue-zoo"><span class="iconfont-archer">&#xe60a;</span>blue-zoo</span>
    
        <span class="sidebar-category-name" data-categories="区块链-Blockchain"><span class="iconfont-archer">&#xe60a;</span>区块链-Blockchain</span>
    
    </div>
    <div class="iconfont-archer sidebar-categories-empty">&#xe678;</div>
    <div class="sidebar-categories-list"></div>
</div>
    </div>
</div>

    <script>
    var siteMeta = {
        root: '/',
        author: 'LiGang'
    }
</script>
    <!-- busuanzi  -->
    
    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    
    <!-- CNZZ  -->
    
    </div>
    <!-- async load share.js -->
    
        <script src="/scripts/share.js" async></script>    
    
    </body>
</html>


